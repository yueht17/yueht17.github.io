<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Mist","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Haitao&#39;s Blog">
<meta property="og:url" content="http://yoursite.com/page/4/index.html">
<meta property="og:site_name" content="Haitao&#39;s Blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="haitao">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://yoursite.com/page/4/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>Haitao's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="Haitao's Blog" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>
    <a href="https://github.com/yueht17" target="_blank" rel="noopener" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Haitao's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>Home</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>About</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>Tags</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>Categories</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>Archives</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/07/25/[DataStructureReview]-Heap/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="haitao">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Haitao's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/25/%5BDataStructureReview%5D-Heap/" class="post-title-link" itemprop="url">ã€DataStructureReviewã€‘-Heap</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-07-25 10:55:59" itemprop="dateCreated datePublished" datetime="2020-07-25T10:55:59+08:00">2020-07-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-08-08 16:53:03" itemprop="dateModified" datetime="2020-08-08T16:53:03+08:00">2020-08-08</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">æ•°æ®ç»“æ„ç¬”è®°</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>åœ¨å­¦ä¹ äº†Treeä¹‹åï¼Œåœ¨æ­¤åŸºç¡€ä¸Šæˆ‘ä»¬å­¦ä¹ å †ç›¸å…³çš„å†…å®¹ï¼Œä¸€ä¸‹æ˜¯æœ¬ç‰‡åšå®¢çš„ç›®å½•<br>[TOC]</p>
<h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><ul>
<li><a href="https://www.jianshu.com/p/6b526aa481b1" target="_blank" rel="noopener">æ•°æ®ç»“æ„ï¼šå †ï¼ˆHeapï¼‰</a></li>
<li><a href="https://www.cnblogs.com/kumata/p/9201571.html" target="_blank" rel="noopener">pythonæ•°æ®ç»“æ„ä¹‹å †(heap)</a></li>
<li><a href="https://www.cnblogs.com/shiqi17/p/9694938.html" target="_blank" rel="noopener">å †æ’ã€pythonå®ç°å †æ’</a></li>
</ul>
<h1 id="å †çš„å®šä¹‰"><a href="#å †çš„å®šä¹‰" class="headerlink" title="å †çš„å®šä¹‰"></a>å †çš„å®šä¹‰</h1><ul>
<li><p>é˜Ÿåˆ—è§’åº¦<br>  $å †(heap)$åˆè¢«ä¸ºä¼˜å…ˆé˜Ÿåˆ—(priority queue)ã€‚å°½ç®¡åä¸ºä¼˜å…ˆé˜Ÿåˆ—ï¼Œä½†å †å¹¶ä¸æ˜¯é˜Ÿåˆ—ã€‚å›å¿†ä¸€ä¸‹ï¼Œåœ¨é˜Ÿåˆ—ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œçš„é™å®šæ“ä½œæ˜¯dequeueå’Œenqueueã€‚dequeueæ˜¯æŒ‰ç…§è¿›å…¥é˜Ÿåˆ—çš„å…ˆåé¡ºåºæ¥å–å‡ºå…ƒç´ ã€‚è€Œåœ¨å †ä¸­ï¼Œæˆ‘ä»¬ä¸æ˜¯æŒ‰ç…§å…ƒç´ è¿›å…¥é˜Ÿåˆ—çš„å…ˆåé¡ºåºå–å‡ºå…ƒç´ çš„ï¼Œè€Œæ˜¯æŒ‰ç…§å…ƒç´ çš„ä¼˜å…ˆçº§å–å‡ºå…ƒç´ ã€‚</p>
</li>
<li><p>æ ‘çš„è§’åº¦<br>  å †é€šå¸¸æ˜¯ä¸€ä¸ªå¯ä»¥è¢«çœ‹åšä¸€æ£µå®Œå…¨äºŒå‰æ ‘çš„æ•°ç»„å¯¹è±¡ã€‚</p>
</li>
</ul>
<h1 id="å †çš„æ€§è´¨"><a href="#å †çš„æ€§è´¨" class="headerlink" title="å †çš„æ€§è´¨"></a>å †çš„æ€§è´¨</h1><p>å †çš„å®ç°é€šè¿‡æ„é€ äºŒå‰å †ï¼ˆbinary heapï¼‰ï¼Œå®ä¸ºäºŒå‰æ ‘çš„ä¸€ç§ï¼›ç”±äºå…¶åº”ç”¨çš„æ™®éæ€§ï¼Œå½“ä¸åŠ é™å®šæ—¶ï¼Œå‡æŒ‡è¯¥æ•°æ®ç»“æ„çš„è¿™ç§å®ç°ã€‚è¿™ç§æ•°æ®ç»“æ„å…·æœ‰ä»¥ä¸‹æ€§è´¨ã€‚</p>
<ul>
<li>ä»»æ„èŠ‚ç‚¹å°äºï¼ˆæˆ–å¤§äºï¼‰å®ƒçš„æ‰€æœ‰åè£”ï¼Œæœ€å°å…ƒï¼ˆæˆ–æœ€å¤§å…ƒï¼‰åœ¨å †çš„æ ¹ä¸Šï¼ˆå †åºæ€§ï¼‰ã€‚</li>
<li>å †æ€»æ˜¯ä¸€æ£µå®Œå…¨æ ‘ã€‚å³é™¤äº†æœ€åº•å±‚ï¼Œå…¶ä»–å±‚çš„èŠ‚ç‚¹éƒ½è¢«å…ƒç´ å¡«æ»¡ï¼Œä¸”æœ€åº•å±‚å°½å¯èƒ½åœ°ä»å·¦åˆ°å³å¡«å…¥ã€‚</li>
</ul>
<h1 id="å †çš„å±æ€§-å †çš„åˆ†ç±»"><a href="#å †çš„å±æ€§-å †çš„åˆ†ç±»" class="headerlink" title="å †çš„å±æ€§/å †çš„åˆ†ç±»"></a>å †çš„å±æ€§/å †çš„åˆ†ç±»</h1><p>å †åˆ†ä¸ºä¸¤ç§ï¼šæœ€å¤§å †å’Œæœ€å°å †ï¼Œä¸¤è€…çš„å·®åˆ«åœ¨äºèŠ‚ç‚¹çš„æ’åºæ–¹å¼ã€‚</p>
<ul>
<li><p>æœ€å¤§å †<br>åœ¨æœ€å¤§å †ä¸­ï¼Œçˆ¶èŠ‚ç‚¹çš„å€¼æ¯”æ¯ä¸€ä¸ªå­èŠ‚ç‚¹çš„å€¼éƒ½è¦å¤§ã€‚åœ¨æœ€å°å †ä¸­ï¼Œçˆ¶èŠ‚ç‚¹çš„å€¼æ¯”æ¯ä¸€ä¸ªå­èŠ‚ç‚¹çš„å€¼éƒ½è¦å°ã€‚è¿™å°±æ˜¯æ‰€è°“çš„â€œå †å±æ€§â€ï¼Œå¹¶ä¸”è¿™ä¸ªå±æ€§å¯¹å †ä¸­çš„æ¯ä¸€ä¸ªèŠ‚ç‚¹éƒ½æˆç«‹ã€‚</p>
<p>  ä¾‹å­ï¼š<br>  <img src="/2020/07/25/[DataStructureReview]-Heap/msedge_HFRuDAQPTd.png" alt="alt"></p>
<p>  è¿™æ˜¯ä¸€ä¸ªæœ€å¤§å †ï¼Œï¼Œå› ä¸ºæ¯ä¸€ä¸ªçˆ¶èŠ‚ç‚¹çš„å€¼éƒ½æ¯”å…¶å­èŠ‚ç‚¹è¦å¤§ã€‚10 æ¯” 7 å’Œ 2 éƒ½å¤§ã€‚7 æ¯” 5 å’Œ 1éƒ½å¤§ã€‚</p>
<p>  æ ¹æ®è¿™ä¸€å±æ€§ï¼Œé‚£ä¹ˆæœ€å¤§å †æ€»æ˜¯å°†å…¶ä¸­çš„æœ€å¤§å€¼å­˜æ”¾åœ¨æ ‘çš„æ ¹èŠ‚ç‚¹ã€‚</p>
</li>
<li><p>æœ€å°å †<br>æœ€å°å †ï¼Œæ ¹èŠ‚ç‚¹ä¸­çš„å…ƒç´ æ€»æ˜¯æ ‘ä¸­çš„æœ€å°å€¼ã€‚å †å±æ€§éå¸¸æœ‰ç”¨ï¼Œå› ä¸ºå †å¸¸å¸¸è¢«å½“åšä¼˜å…ˆé˜Ÿåˆ—ä½¿ç”¨ï¼Œå› ä¸ºå¯ä»¥å¿«é€Ÿåœ°è®¿é—®åˆ°â€œæœ€é‡è¦â€çš„å…ƒç´ ã€‚</p>
</li>
</ul>
<p>æ³¨æ„ï¼š</p>
<ul>
<li>å †çš„æ ¹èŠ‚ç‚¹ä¸­å­˜æ”¾çš„æ˜¯æœ€å¤§æˆ–è€…æœ€å°å…ƒç´ ï¼Œä½†æ˜¯å…¶ä»–èŠ‚ç‚¹çš„æ’åºé¡ºåºæ˜¯æœªçŸ¥çš„ã€‚</li>
<li><font color="red">åœ¨ä¸€ä¸ªæœ€å¤§å †ä¸­ï¼Œæœ€å¤§çš„é‚£ä¸€ä¸ªå…ƒç´ æ€»æ˜¯ä½äº index 0 çš„ä½ç½®ï¼Œä½†æ˜¯æœ€å°çš„å…ƒç´ åˆ™æœªå¿…æ˜¯æœ€åä¸€ä¸ªå…ƒç´ ã€‚--å”¯ä¸€èƒ½å¤Ÿä¿è¯çš„æ˜¯æœ€å°çš„å…ƒç´ æ˜¯ä¸€ä¸ªå¶èŠ‚ç‚¹ï¼Œä½†æ˜¯ä¸ç¡®å®šæ˜¯å“ªä¸€ä¸ªã€‚</font>

</li>
</ul>
<h1 id="å †å’Œæ™®é€šæ ‘çš„åŒºåˆ«"><a href="#å †å’Œæ™®é€šæ ‘çš„åŒºåˆ«" class="headerlink" title="å †å’Œæ™®é€šæ ‘çš„åŒºåˆ«"></a>å †å’Œæ™®é€šæ ‘çš„åŒºåˆ«</h1><p>å †å¹¶ä¸èƒ½å–ä»£äºŒå‰æœç´¢æ ‘ï¼Œå®ƒä»¬ä¹‹é—´æœ‰ç›¸ä¼¼ä¹‹å¤„ä¹Ÿæœ‰ä¸€äº›ä¸åŒã€‚æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ä¸¤è€…çš„ä¸»è¦å·®åˆ«ï¼š</p>
<ul>
<li><p>èŠ‚ç‚¹çš„é¡ºåº:<br>  åœ¨äºŒå‰æœç´¢æ ‘ä¸­ï¼Œå·¦å­èŠ‚ç‚¹å¿…é¡»æ¯”çˆ¶èŠ‚ç‚¹å°ï¼Œå³å­èŠ‚ç‚¹å¿…é¡»å¿…æ¯”çˆ¶èŠ‚ç‚¹å¤§ã€‚ä½†æ˜¯åœ¨å †ä¸­å¹¶éå¦‚æ­¤ã€‚åœ¨æœ€å¤§å †ä¸­ä¸¤ä¸ªå­èŠ‚ç‚¹éƒ½å¿…é¡»æ¯”çˆ¶èŠ‚ç‚¹å°ï¼Œè€Œåœ¨æœ€å°å †ä¸­ï¼Œå®ƒä»¬éƒ½å¿…é¡»æ¯”çˆ¶èŠ‚ç‚¹å¤§ã€‚</p>
</li>
<li><p>å†…å­˜å ç”¨ï¼š<br>  æ™®é€šæ ‘å ç”¨çš„å†…å­˜ç©ºé—´æ¯”å®ƒä»¬å­˜å‚¨çš„æ•°æ®è¦å¤šã€‚ä½ å¿…é¡»ä¸ºèŠ‚ç‚¹å¯¹è±¡ä»¥åŠå·¦/å³å­èŠ‚ç‚¹æŒ‡é’ˆåˆ†é…å†…å­˜ã€‚å †ä»…ä»…ä½¿ç”¨ä¸€ä¸ªæ•°æ®æ¥å­˜å‚¨æ•°ç»„ï¼Œä¸”ä¸ä½¿ç”¨æŒ‡é’ˆã€‚</p>
</li>
<li><p>å¹³è¡¡ï¼š<br>  äºŒå‰æœç´¢æ ‘å¿…é¡»æ˜¯â€œå¹³è¡¡â€çš„æƒ…å†µä¸‹ï¼Œå…¶å¤§éƒ¨åˆ†æ“ä½œçš„å¤æ‚åº¦æ‰èƒ½è¾¾åˆ°O(log n)ã€‚ä½ å¯ä»¥æŒ‰ä»»æ„é¡ºåºä½ç½®æ’å…¥/åˆ é™¤æ•°æ®ï¼Œæˆ–è€…ä½¿ç”¨ AVL æ ‘æˆ–è€…çº¢é»‘æ ‘ï¼Œä½†æ˜¯åœ¨å †ä¸­å®é™…ä¸Šä¸éœ€è¦æ•´æ£µæ ‘éƒ½æ˜¯æœ‰åºçš„ã€‚æˆ‘ä»¬åªéœ€è¦æ»¡è¶³å †å±æ€§å³å¯ï¼Œæ‰€ä»¥åœ¨å †ä¸­å¹³è¡¡ä¸æ˜¯é—®é¢˜ã€‚å› ä¸ºå †ä¸­æ•°æ®çš„ç»„ç»‡æ–¹å¼å¯ä»¥ä¿è¯O(log n) çš„æ€§èƒ½ã€‚</p>
</li>
<li><p>æœç´¢ï¼š<br>  åœ¨äºŒå‰æ ‘ä¸­æœç´¢ä¼šå¾ˆå¿«ï¼Œä½†æ˜¯åœ¨å †ä¸­æœç´¢ä¼šå¾ˆæ…¢ã€‚åœ¨å †ä¸­æœç´¢ä¸æ˜¯ç¬¬ä¸€ä¼˜å…ˆçº§ï¼Œå› ä¸ºä½¿ç”¨å †çš„ç›®çš„æ˜¯å°†æœ€å¤§ï¼ˆæˆ–è€…æœ€å°ï¼‰çš„èŠ‚ç‚¹æ”¾åœ¨æœ€å‰é¢ï¼Œä»è€Œå¿«é€Ÿçš„è¿›è¡Œç›¸å…³æ’å…¥ã€åˆ é™¤æ“ä½œã€‚</p>
</li>
</ul>
<h1 id="æ•°ç»„ä¸æ ‘"><a href="#æ•°ç»„ä¸æ ‘" class="headerlink" title="æ•°ç»„ä¸æ ‘"></a>æ•°ç»„ä¸æ ‘</h1><p>å¯¹äºä¸€ä¸‹heap<br><img src="/2020/07/25/[DataStructureReview]-Heap/msedge_HFRuDAQPTd.png" alt="alt"><br>æˆ‘ä»¬å¯ä»¥ç”¨ä¸‹é¢çš„æ•°ç»„æ¥è¡¨ç¤º</p>
<script type="math/tex; mode=display">[ 10, 7, 2, 5, 1 ]</script><p>å¦‚æœ $indx$ æ˜¯èŠ‚ç‚¹çš„ç´¢å¼•ï¼Œé‚£ä¹ˆä¸‹é¢çš„å…¬å¼å°±ç»™å‡ºäº†å®ƒçš„çˆ¶èŠ‚ç‚¹å’Œå­èŠ‚ç‚¹åœ¨æ•°ç»„ä¸­çš„ç´¢å¼•ï¼š</p>
<script type="math/tex; mode=display">parent(indx) = floor((index - 1)/2)</script><script type="math/tex; mode=display">leftSon(index)   = 2index + 1</script><script type="math/tex; mode=display">rightSon(index)  = 2index + 2</script><h1 id="å †çš„å®ç°"><a href="#å †çš„å®ç°" class="headerlink" title="å †çš„å®ç°"></a>å †çš„å®ç°</h1><p>ä¸‹é¢æˆ‘åªè®¨è®ºæœ€å°å †ï¼Œæœ€å¤§å †åä¹‹</p>
<ul>
<li>ä¸»è¦åŠŸèƒ½<ul>
<li>æ’å…¥å…ƒç´ </li>
<li>åˆ é™¤æœ€å°å…ƒç´ </li>
</ul>
</li>
</ul>
<ul>
<li><p>ä¿æŒçš„æ“ä½œæ—¶ä¿æŒçš„æ€§è´¨</p>
<ul>
<li>å®Œå…¨äºŒå‰æ ‘</li>
<li>æ¯ä¸ªèŠ‚ç‚¹å€¼éƒ½å°äºæˆ–ç­‰äºå®ƒçš„å­èŠ‚ç‚¹</li>
</ul>
</li>
<li><p>ä¸»è¦æ“ä½œ</p>
<ul>
<li><p>ä¸Šæµ®ï¼ˆPromotionï¼‰</p>
<ul>
<li>æƒ…å¢ƒ: å †åº•æ·»åŠ å°å…ƒç´ å/å­èŠ‚ç‚¹çš„é”®å€¼å˜ä¸ºæ¯”çˆ¶èŠ‚ç‚¹çš„é”®å€¼å¤§</li>
<li>å…·ä½“æ“ä½œï¼š <ul>
<li>äº¤æ¢å­èŠ‚ç‚¹çš„é”®å’Œçˆ¶èŠ‚ç‚¹çš„é”® </li>
<li>é‡å¤è¿™ä¸ªè¿‡ç¨‹ç›´åˆ°å †çš„é¡ºåºæ¢å¤æ­£å¸¸</li>
</ul>
</li>
<li>å›¾è§£<br>  <img src="/2020/07/25/[DataStructureReview]-Heap/msedge_PmbWkycQIL.png" alt="alt"></li>
<li>å…·ä½“ä»£ç   <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_upheap</span><span class="params">(self, j)</span>:</span><span class="comment">#å¾€ä¸Šäº¤æ¢</span></span><br><span class="line">    parent = self._parent(j) </span><br><span class="line">    <span class="keyword">if</span> j &gt; <span class="number">0</span> <span class="keyword">and</span> self._data[j] &lt; self._data[parent]: </span><br><span class="line">        self._swap(j, parent) </span><br><span class="line">        self._upheap(parent)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>ä¸‹æ²‰ï¼ˆDemotionï¼‰ </p>
<ul>
<li>æƒ…å¢ƒï¼šå–å‡ºå †é¡¶å…ƒç´ /çˆ¶èŠ‚ç‚¹çš„é”®å€¼å˜å¾—æ¯”å­èŠ‚ç‚¹ï¼ˆä¸€ä¸ªæˆ–è€…2ä¸ªï¼‰ çš„é”®å€¼è¿˜å° </li>
<li>å…·ä½“æ“ä½œï¼š<ul>
<li>æŠŠçˆ¶èŠ‚ç‚¹çš„é”®å€¼å’Œæ¯”å®ƒå¤§çš„å­èŠ‚ç‚¹çš„é”®å€¼åšäº¤æ¢</li>
<li>é‡å¤è¿™ä¸ªæ“ä½œç›´åˆ°å †çš„é¡ºåºæ¢å¤æ­£å¸¸</li>
</ul>
</li>
<li>å›¾è§£ï¼š<br>  <img src="/2020/07/25/[DataStructureReview]-Heap/msedge_ZGZt5ZSs4r.png" alt="alt"></li>
<li>å…·ä½“ä»£ç   <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_downheap</span><span class="params">(self, j)</span>:</span><span class="comment">#å¾€ä¸‹äº¤æ¢ï¼Œé€’å½’æ¯”è¾ƒä¸‰ä¸ªå€¼</span></span><br><span class="line">        <span class="keyword">if</span> self._has_left(j):</span><br><span class="line">            left = self._left(j)</span><br><span class="line">            small_child = left</span><br><span class="line">            <span class="keyword">if</span> self._has_right(j):</span><br><span class="line">                right = self._right(j) </span><br><span class="line">                <span class="keyword">if</span> self._data[right] &lt; self._data[left]:</span><br><span class="line">                    small_child = right </span><br><span class="line">            <span class="keyword">if</span> self._data[small_child] &lt; self._data[j]:</span><br><span class="line">                self._swap(j, small_child) </span><br><span class="line">                self._downheap(small_child)</span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
<li><p>æ•´ä½“å®ç°ä»£ç ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¯¥heapä¸ºmin_heapï¼Œå³æ ¹èŠ‚ç‚¹ä¸ºæœ€å°å€¼</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HeapBase</span>:</span></span><br><span class="line">    <span class="comment"># æŠ½è±¡åŸºç±»ä¸ºå †</span></span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Item</span>:</span></span><br><span class="line">        <span class="comment"># è½»é‡çº§ç»„åˆæ¥å­˜å‚¨å †é¡¹ç›®</span></span><br><span class="line">        __slots__ = <span class="string">'_key'</span>, <span class="string">'_value'</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, k, v)</span>:</span></span><br><span class="line">            self._key = k</span><br><span class="line">            self._value = v</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">__lt__</span><span class="params">(self, other)</span>:</span>  <span class="comment"># æ¯”è¾ƒå¤§å°</span></span><br><span class="line">            <span class="keyword">return</span> self._key &lt; other._key</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">is_empty</span><span class="params">(self)</span>:</span></span><br><span class="line">            <span class="keyword">return</span> len(self) == <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">__str__</span><span class="params">(self)</span>:</span></span><br><span class="line">            <span class="keyword">return</span> str(self._key)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Heap</span><span class="params">(HeapBase)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self._data = []</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__len__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> len(self._data)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">is_empty</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> len(self) == <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add</span><span class="params">(self, key, value)</span>:</span>  <span class="comment"># åœ¨åé¢åŠ ä¸Šç„¶ååŠ ä¸Š</span></span><br><span class="line">        self._data.append(self.Item(key, value))</span><br><span class="line">        self._upheap(len(self._data) - <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">min</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> self.is_empty():</span><br><span class="line">            <span class="keyword">raise</span> ValueError(<span class="string">"Priority queue is empty."</span>)</span><br><span class="line">        item = self._data[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">return</span> (item._key, item._value)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">remove_min</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> self.is_empty():</span><br><span class="line">            <span class="keyword">raise</span> ValueError(<span class="string">"Priority queue is empty."</span>)</span><br><span class="line">        self._swap(<span class="number">0</span>, len(self._data) - <span class="number">1</span>)</span><br><span class="line">        item = self._data.pop()</span><br><span class="line">        self._downheap(<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> (item._key, item._value)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_parent</span><span class="params">(self, j)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> (j - <span class="number">1</span>) // <span class="number">2</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_left</span><span class="params">(self, j)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span> * j + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_right</span><span class="params">(self, j)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span> * j + <span class="number">2</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_has_left</span><span class="params">(self, j)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self._left(j) &lt; len(self._data)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_has_right</span><span class="params">(self, j)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self._right(j) &lt; len(self._data)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_swap</span><span class="params">(self, i, j)</span>:</span></span><br><span class="line">        self._data[i], self._data[j] = self._data[j], self._data[i]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_upheap</span><span class="params">(self, j)</span>:</span>  <span class="comment"># å¾€ä¸Šäº¤æ¢</span></span><br><span class="line">        parent = self._parent(j)</span><br><span class="line">        <span class="keyword">if</span> j &gt; <span class="number">0</span> <span class="keyword">and</span> self._data[j] &lt; self._data[parent]:</span><br><span class="line">            self._swap(j, parent)</span><br><span class="line">            self._upheap(parent)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_downheap</span><span class="params">(self, j)</span>:</span>  <span class="comment"># å¾€ä¸‹äº¤æ¢ï¼Œé€’å½’æ¯”è¾ƒä¸‰ä¸ªå€¼</span></span><br><span class="line">        <span class="keyword">if</span> self._has_left(j):</span><br><span class="line">            left = self._left(j)</span><br><span class="line">            small_child = left</span><br><span class="line">            <span class="keyword">if</span> self._has_right(j):</span><br><span class="line">                right = self._right(j)</span><br><span class="line">                <span class="keyword">if</span> self._data[right] &lt; self._data[left]:</span><br><span class="line">                    small_child = right</span><br><span class="line">            <span class="keyword">if</span> self._data[small_child] &lt; self._data[j]:</span><br><span class="line">                self._swap(j, small_child)</span><br><span class="line">                self._downheap(small_child)</span><br></pre></td></tr></table></figure></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/07/25/LC394-%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%A7%A3%E7%A0%81/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="haitao">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Haitao's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/25/LC394-%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%A7%A3%E7%A0%81/" class="post-title-link" itemprop="url">LC394-å­—ç¬¦ä¸²è§£ç </a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-07-25 01:23:18 / Modified: 08:35:34" itemprop="dateCreated datePublished" datetime="2020-07-25T01:23:18+08:00">2020-07-25</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">åˆ·é¢˜ç¬”è®°</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>ç»™å®šä¸€ä¸ªç»è¿‡ç¼–ç çš„å­—ç¬¦ä¸²ï¼Œè¿”å›å®ƒè§£ç åçš„å­—ç¬¦ä¸²ã€‚</p>
<p>ç¼–ç è§„åˆ™ä¸º: k[encoded_string]ï¼Œè¡¨ç¤ºå…¶ä¸­æ–¹æ‹¬å·å†…éƒ¨çš„ encoded_string æ­£å¥½é‡å¤ k æ¬¡ã€‚æ³¨æ„ k ä¿è¯ä¸ºæ­£æ•´æ•°ã€‚</p>
<p>ä½ å¯ä»¥è®¤ä¸ºè¾“å…¥å­—ç¬¦ä¸²æ€»æ˜¯æœ‰æ•ˆçš„ï¼›è¾“å…¥å­—ç¬¦ä¸²ä¸­æ²¡æœ‰é¢å¤–çš„ç©ºæ ¼ï¼Œä¸”è¾“å…¥çš„æ–¹æ‹¬å·æ€»æ˜¯ç¬¦åˆæ ¼å¼è¦æ±‚çš„ã€‚</p>
<p>æ­¤å¤–ï¼Œä½ å¯ä»¥è®¤ä¸ºåŸå§‹æ•°æ®ä¸åŒ…å«æ•°å­—ï¼Œæ‰€æœ‰çš„æ•°å­—åªè¡¨ç¤ºé‡å¤çš„æ¬¡æ•° k ï¼Œä¾‹å¦‚ä¸ä¼šå‡ºç°åƒ 3a æˆ– 2[4] çš„è¾“å…¥ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">ç¤ºä¾‹ 1ï¼š</span><br><span class="line"></span><br><span class="line">è¾“å…¥ï¼šs &#x3D; &quot;3[a]2[bc]&quot;</span><br><span class="line">è¾“å‡ºï¼š&quot;aaabcbc&quot;</span><br><span class="line">ç¤ºä¾‹ 2ï¼š</span><br><span class="line"></span><br><span class="line">è¾“å…¥ï¼šs &#x3D; &quot;3[a2[c]]&quot;</span><br><span class="line">è¾“å‡ºï¼š&quot;accaccacc&quot;</span><br><span class="line">ç¤ºä¾‹ 3ï¼š</span><br><span class="line"></span><br><span class="line">è¾“å…¥ï¼šs &#x3D; &quot;2[abc]3[cd]ef&quot;</span><br><span class="line">è¾“å‡ºï¼š&quot;abcabccdcdcdef&quot;</span><br><span class="line">ç¤ºä¾‹ 4ï¼š</span><br><span class="line"></span><br><span class="line">è¾“å…¥ï¼šs &#x3D; &quot;abc3[cd]xyz&quot;</span><br><span class="line">è¾“å‡ºï¼š&quot;abccdcdcdxyz&quot;</span><br></pre></td></tr></table></figure>
<p>æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰<br>é“¾æ¥ï¼š<a href="https://leetcode-cn.com/problems/decode-string" target="_blank" rel="noopener">https://leetcode-cn.com/problems/decode-string</a><br>è‘—ä½œæƒå½’é¢†æ‰£ç½‘ç»œæ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»å®˜æ–¹æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>
<h1 id="ä»£ç ä¸æ€è·¯"><a href="#ä»£ç ä¸æ€è·¯" class="headerlink" title="ä»£ç ä¸æ€è·¯"></a>ä»£ç ä¸æ€è·¯</h1><p>è¿™ä¸ªé¢˜ç›®è¿˜æ˜¯æ¯”è¾ƒéš¾å—å’Œæ¶å¿ƒçš„ã€‚<br>æˆ‘ä»¬è¦ä»æœ€é‡Œé¢çš„æ‹¬å·å±‚å±‚å‘å¤–è§£å†³ï¼Œæœ€ç»ˆçŸ¥é“å…¶å†…éƒ¨æ²¡æœ‰æ‹¬å·å’Œæ•°å­—ä¸ºæ­¢ã€‚æ‰€ä»¥ä¸ºæ·±åº¦ä¼˜å…ˆ<br>é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ç”¨æ ˆè¿™ç§æ•°æ®ç»“æ„æ¥å¾ˆå¥½çš„è§£å†³æ­¤é—®é¢˜ã€‚<br>æˆ‘ä»¬çš„ç®—æ³•å…·ä½“å¦‚ä¸‹</p>
<blockquote>
<p>æ„å»ºè¾…åŠ©æ ˆ stackï¼Œ éå†å­—ç¬¦ä¸² s ä¸­æ¯ä¸ªå­—ç¬¦ cï¼›</p>
<ul>
<li>å½“ c ä¸ºæ•°å­—æ—¶ï¼Œå°†æ•°å­—å­—ç¬¦è½¬åŒ–ä¸ºæ•°å­— multiï¼Œç”¨äºåç»­å€æ•°è®¡ç®—ï¼›<font color="red">æ³¨æ„ææœ‰å¯èƒ½æ˜¯ä¸¤ä½æ•°å­—</font></li>
<li>å½“ c ä¸ºå­—æ¯æ—¶ï¼Œåœ¨ res å°¾éƒ¨æ·»åŠ  cï¼›</li>
<li>å½“ c ä¸º [ æ—¶ï¼Œå°†å½“å‰ multi å’Œ res å…¥æ ˆï¼Œå¹¶åˆ†åˆ«ç½®ç©ºç½® 00ï¼š<ul>
<li>è®°å½•æ­¤ [ å‰çš„ä¸´æ—¶ç»“æœ res è‡³æ ˆï¼Œç”¨äºå‘ç°å¯¹åº” ] åçš„æ‹¼æ¥æ“ä½œï¼›</li>
<li>è®°å½•æ­¤ [ å‰çš„å€æ•° multi è‡³æ ˆï¼Œç”¨äºå‘ç°å¯¹åº” ] åï¼Œè·å– multi Ã— [â€¦] å­—ç¬¦ä¸²ã€‚</li>
<li>è¿›å…¥åˆ°æ–° [ åï¼Œres å’Œ multi é‡æ–°è®°å½•ã€‚</li>
</ul>
</li>
<li>å½“ c ä¸º ] æ—¶ï¼Œstack å‡ºæ ˆï¼Œæ‹¼æ¥å­—ç¬¦ä¸² res = last_res + cur_multi * resï¼Œå…¶ä¸­:<ul>
<li>last_resæ˜¯ä¸Šä¸ª [ åˆ°å½“å‰ [ çš„å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ â€œ3[a2[c]]â€ ä¸­çš„ aï¼›</li>
<li>cur_multiæ˜¯å½“å‰ [ åˆ° ] å†…å­—ç¬¦ä¸²çš„é‡å¤å€æ•°ï¼Œä¾‹å¦‚ â€œ3[a2[c]]â€ ä¸­çš„ 2ã€‚<br>æœ€åè¿”å›å­—ç¬¦ä¸² resã€‚</li>
</ul>
</li>
</ul>
</blockquote>
<p>å¥½çš„ï¼Œæˆ‘ä»¬å…·ä½“çš„ä»£ç å®ç°å¦‚ä¸‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">decodeString</span><span class="params">(self, s)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type s: str</span></span><br><span class="line"><span class="string">        :rtype: str</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        stack, res, multi = [], <span class="string">""</span>, <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> item <span class="keyword">in</span> s:</span><br><span class="line">            <span class="keyword">if</span> <span class="string">'0'</span> &lt;= item &lt;= <span class="string">'9'</span>:</span><br><span class="line">                multi = multi * <span class="number">10</span> + int(item)</span><br><span class="line">            <span class="keyword">elif</span> <span class="string">'a'</span> &lt;= item &lt;= <span class="string">'z'</span> <span class="keyword">or</span> <span class="string">'A'</span> &lt;= item &lt;= <span class="string">'Z'</span>:</span><br><span class="line">                res += item</span><br><span class="line">            <span class="keyword">elif</span> item == <span class="string">'['</span>:</span><br><span class="line">                stack.append((multi, res))</span><br><span class="line">                multi, res = <span class="number">0</span>, <span class="string">""</span></span><br><span class="line">            <span class="keyword">elif</span> item == <span class="string">']'</span>:</span><br><span class="line">                _multi, _res = stack.pop()</span><br><span class="line">                res = _res + _multi * res</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">raise</span> Exception(<span class="string">"invalid item"</span>)</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/07/25/LC739-%E6%AF%8F%E6%97%A5%E6%B8%A9%E5%BA%A6/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="haitao">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Haitao's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/25/LC739-%E6%AF%8F%E6%97%A5%E6%B8%A9%E5%BA%A6/" class="post-title-link" itemprop="url">LC739-æ¯æ—¥æ¸©åº¦</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-07-25 00:15:54 / Modified: 01:18:32" itemprop="dateCreated datePublished" datetime="2020-07-25T00:15:54+08:00">2020-07-25</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">åˆ·é¢˜ç¬”è®°</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>è¯·æ ¹æ®æ¯æ—¥ æ°”æ¸© åˆ—è¡¨ï¼Œé‡æ–°ç”Ÿæˆä¸€ä¸ªåˆ—è¡¨ã€‚å¯¹åº”ä½ç½®çš„è¾“å‡ºä¸ºï¼šè¦æƒ³è§‚æµ‹åˆ°æ›´é«˜çš„æ°”æ¸©ï¼Œè‡³å°‘éœ€è¦ç­‰å¾…çš„å¤©æ•°ã€‚å¦‚æœæ°”æ¸©åœ¨è¿™ä¹‹åéƒ½ä¸ä¼šå‡é«˜ï¼Œè¯·åœ¨è¯¥ä½ç½®ç”¨ 0 æ¥ä»£æ›¿ã€‚</p>
<p>ä¾‹å¦‚:</p>
<ul>
<li>ç»™å®šä¸€ä¸ªåˆ—è¡¨ $temperatures = [73, 74, 75, 71, 69, 72, 76, 73]$</li>
<li>ä½ çš„è¾“å‡ºåº”è¯¥æ˜¯ $[1, 1, 4, 2, 1, 1, 0, 0]$ã€‚</li>
</ul>
<p>æç¤ºï¼šæ°”æ¸© åˆ—è¡¨é•¿åº¦çš„èŒƒå›´æ˜¯ [1, 30000]ã€‚æ¯ä¸ªæ°”æ¸©çš„å€¼çš„å‡ä¸ºåæ°åº¦ï¼Œéƒ½æ˜¯åœ¨ [30, 100] èŒƒå›´å†…çš„æ•´æ•°ã€‚</p>
<p>æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰<br>é“¾æ¥ï¼š<a href="https://leetcode-cn.com/problems/daily-temperatures" target="_blank" rel="noopener">https://leetcode-cn.com/problems/daily-temperatures</a><br>è‘—ä½œæƒå½’é¢†æ‰£ç½‘ç»œæ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»å®˜æ–¹æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>
<h1 id="æ€è€ƒä¸ä»£ç "><a href="#æ€è€ƒä¸ä»£ç " class="headerlink" title="æ€è€ƒä¸ä»£ç "></a>æ€è€ƒä¸ä»£ç </h1><h3 id="1-æš´åŠ›æ³•"><a href="#1-æš´åŠ›æ³•" class="headerlink" title="1. æš´åŠ›æ³•"></a>1. æš´åŠ›æ³•</h3><p>æœ€æ— è„‘çš„æ–¹æ³•å°±æ˜¯é‡‡å–æš´åŠ›æ³•ï¼Œæˆ‘ä»¬äºŒé‡å¾ªç¯ç„¶åç®—æ³•å¤æ‚åº¦ä¸º$O(n^2)$<br>ä»£ç çš„å…·ä½“å®ç°å¦‚ä¸‹ï¼š<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">dailyTemperatures</span><span class="params">(self, T)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type T: List[int]</span></span><br><span class="line"><span class="string">        :rtype: List[int]</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        res = [<span class="number">0</span>] * T.__len__()</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(T.__len__() - <span class="number">1</span>):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(i + <span class="number">1</span>, T.__len__()):</span><br><span class="line">                <span class="keyword">if</span> T[j] &gt; T[i]:</span><br><span class="line">                    res[i] = j - i</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure><br>TLEäº†ï¼Œå¾ˆå¥½ï¼è¯æ˜æˆ‘ä»¬å¯ä»¥ä¼˜åŒ–</p>
<h3 id="2-æ ˆ"><a href="#2-æ ˆ" class="headerlink" title="2.æ ˆ"></a>2.æ ˆ</h3><p>æˆ‘ä»¬æ„é€ ä¸€ç§æ ˆï¼Œå…¶å…·æœ‰ä¸€ä¸‹ç‰¹æ€§</p>
<ul>
<li>ç«™å†…å­˜æ”¾index</li>
<li>æ ˆåº•å…ƒç´ æœ€å¤§</li>
<li>æ¯æ¬¡pushï¼Œéƒ½å°†æ¯”è¢«pushè¿›å…¥çš„å…ƒç´ å¯¹åº”çš„å…ƒç´ T[i]å°çš„å…ƒç´ å¼¹å‡º</li>
</ul>
<p>å¥½çš„ï¼Œæˆ‘ä»¬ç”¨ä»£ç å®ç°<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.__stack = []</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">dailyTemperatures</span><span class="params">(self, T)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type T: List[int]</span></span><br><span class="line"><span class="string">        :rtype: List[int]</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        res = [<span class="number">0</span>] * T.__len__()</span><br><span class="line">        <span class="keyword">for</span> index <span class="keyword">in</span> range(T.__len__()):</span><br><span class="line">            <span class="keyword">while</span> self.__stack <span class="keyword">and</span> T[self.__stack[<span class="number">-1</span>]] &lt; T[index]:</span><br><span class="line">                res[self.__stack[<span class="number">-1</span>]] = index - self.__stack[<span class="number">-1</span>]</span><br><span class="line">                self.__stack.pop()</span><br><span class="line">            self.__stack.append(index)</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure></p>
<p>åšçš„å¥½å¿«ï¼Œç»™è‡ªå·±ç‚¹ä¸ªğŸ‘</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/07/24/LC155-%E6%9C%80%E5%B0%8F%E6%A0%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="haitao">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Haitao's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/24/LC155-%E6%9C%80%E5%B0%8F%E6%A0%88/" class="post-title-link" itemprop="url">LC155-æœ€å°æ ˆ</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-07-24 13:15:46" itemprop="dateCreated datePublished" datetime="2020-07-24T13:15:46+08:00">2020-07-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-07-25 00:15:28" itemprop="dateModified" datetime="2020-07-25T00:15:28+08:00">2020-07-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">åˆ·é¢˜ç¬”è®°</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>è®¾è®¡ä¸€ä¸ªæ”¯æŒ push ï¼Œpop ï¼Œtop æ“ä½œï¼Œå¹¶èƒ½åœ¨å¸¸æ•°æ—¶é—´å†…æ£€ç´¢åˆ°æœ€å°å…ƒç´ çš„æ ˆã€‚</p>
<ul>
<li>push(x) â€”â€” å°†å…ƒç´  x æ¨å…¥æ ˆä¸­ã€‚</li>
<li>pop() â€”â€” åˆ é™¤æ ˆé¡¶çš„å…ƒç´ ã€‚</li>
<li>top() â€”â€” è·å–æ ˆé¡¶å…ƒç´ ã€‚</li>
<li>getMin() â€”â€” æ£€ç´¢æ ˆä¸­çš„æœ€å°å…ƒç´ ã€‚</li>
</ul>
<p>ç¤ºä¾‹:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ï¼š</span><br><span class="line">[&quot;MinStack&quot;,&quot;push&quot;,&quot;push&quot;,&quot;push&quot;,&quot;getMin&quot;,&quot;pop&quot;,&quot;top&quot;,&quot;getMin&quot;]</span><br><span class="line">[[],[-2],[0],[-3],[],[],[],[]]</span><br><span class="line"></span><br><span class="line">è¾“å‡ºï¼š</span><br><span class="line">[null,null,null,null,-3,null,0,-2]</span><br><span class="line"></span><br><span class="line">è§£é‡Šï¼š</span><br><span class="line">MinStack minStack &#x3D; new MinStack();</span><br><span class="line">minStack.push(-2);</span><br><span class="line">minStack.push(0);</span><br><span class="line">minStack.push(-3);</span><br><span class="line">minStack.getMin();   --&gt; è¿”å› -3.</span><br><span class="line">minStack.pop();</span><br><span class="line">minStack.top();      --&gt; è¿”å› 0.</span><br><span class="line">minStack.getMin();   --&gt; è¿”å› -2.</span><br></pre></td></tr></table></figure></p>
<p>æç¤ºï¼š</p>
<ul>
<li>popã€top å’Œ getMin æ“ä½œæ€»æ˜¯åœ¨ éç©ºæ ˆ ä¸Šè°ƒç”¨ã€‚</li>
</ul>
<p>æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰<br>é“¾æ¥ï¼š<a href="https://leetcode-cn.com/problems/min-stack" target="_blank" rel="noopener">https://leetcode-cn.com/problems/min-stack</a><br>è‘—ä½œæƒå½’é¢†æ‰£ç½‘ç»œæ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»å®˜æ–¹æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>
<h1 id="ä»£ç ä¸æ€è·¯"><a href="#ä»£ç ä¸æ€è·¯" class="headerlink" title="ä»£ç ä¸æ€è·¯"></a>ä»£ç ä¸æ€è·¯</h1><p>è¿™ä¸ªé¢˜ç›®å«åšæœ€å°æ ˆï¼Œä¸æ˜¯æˆ‘ä»¬ä¹‹å‰ç”¨çš„é€’å‡æ ˆ<br>å…¶å®å¯¹äºgetMinæˆ‘ä»¬ä¹Ÿå¯ä»¥ç”¨è¾…åŠ©æ ˆçš„æ–¹æ³•ï¼Œä½†æ˜¯æ¯”è¾ƒéº»çƒ¦ï¼Œæˆ‘ä»¬è¿˜æ˜¯é‡‡ç”¨ä¼ ç»Ÿçš„æ–¹æ³•ã€‚<br>æ•´ä½“ä¸Šè¿˜æ˜¯æ¯”è¾ƒç®€ç­”çš„ï¼Œä¸€è¾¹è¿‡<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MinStack</span><span class="params">(object)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        initialize your data structure here.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        self.__list = []</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">push</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type x: int</span></span><br><span class="line"><span class="string">        :rtype: None</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        self.__list.append(x)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pop</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :rtype: None</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> self.__list:</span><br><span class="line">            self.__list.pop()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">top</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> self.__list:</span><br><span class="line">            <span class="keyword">return</span> self.__list[<span class="number">-1</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getMin</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> self.__list:</span><br><span class="line">            <span class="keyword">return</span> min(self.__list)</span><br></pre></td></tr></table></figure></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/07/23/LC136-%E5%8F%AA%E5%87%BA%E7%8E%B0%E4%B8%80%E6%AC%A1%E7%9A%84%E6%95%B0%E5%AD%97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="haitao">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Haitao's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/23/LC136-%E5%8F%AA%E5%87%BA%E7%8E%B0%E4%B8%80%E6%AC%A1%E7%9A%84%E6%95%B0%E5%AD%97/" class="post-title-link" itemprop="url">LC136-åªå‡ºç°ä¸€æ¬¡çš„æ•°å­—</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-07-23 23:51:55" itemprop="dateCreated datePublished" datetime="2020-07-23T23:51:55+08:00">2020-07-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-07-24 00:10:45" itemprop="dateModified" datetime="2020-07-24T00:10:45+08:00">2020-07-24</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">åˆ·é¢˜ç¬”è®°</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>ç»™å®šä¸€ä¸ªéç©ºæ•´æ•°æ•°ç»„ï¼Œé™¤äº†æŸä¸ªå…ƒç´ åªå‡ºç°ä¸€æ¬¡ä»¥å¤–ï¼Œå…¶ä½™æ¯ä¸ªå…ƒç´ å‡å‡ºç°ä¸¤æ¬¡ã€‚æ‰¾å‡ºé‚£ä¸ªåªå‡ºç°äº†ä¸€æ¬¡çš„å…ƒç´ ã€‚<br>è¯´æ˜ï¼šä½ çš„ç®—æ³•åº”è¯¥å…·æœ‰çº¿æ€§æ—¶é—´å¤æ‚åº¦ã€‚ ä½ å¯ä»¥ä¸ä½¿ç”¨é¢å¤–ç©ºé—´æ¥å®ç°å—ï¼Ÿ</p>
<p>ç¤ºä¾‹ 1:<br>è¾“å…¥: [2,2,1]<br>è¾“å‡º: 1<br>ç¤ºä¾‹ 2:<br>è¾“å…¥: [4,1,2,1,2]<br>è¾“å‡º: 4</p>
<p>æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰<br>é“¾æ¥ï¼š<a href="https://leetcode-cn.com/problems/single-number" target="_blank" rel="noopener">https://leetcode-cn.com/problems/single-number</a><br>è‘—ä½œæƒå½’é¢†æ‰£ç½‘ç»œæ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»å®˜æ–¹æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>
<h1 id="æ€è·¯ä¸ä»£ç "><a href="#æ€è·¯ä¸ä»£ç " class="headerlink" title="æ€è·¯ä¸ä»£ç "></a>æ€è·¯ä¸ä»£ç </h1><h3 id="1-hashmap"><a href="#1-hashmap" class="headerlink" title="1. hashmap"></a>1. hashmap</h3><p>é¦–å…ˆhashmapçš„æ–¹æ³•çš„æ—¶é—´å¤æ‚åº¦ä¸º$O(n)$,ç©ºé—´å¤æ‚åº¦ä¸º$0(n)$,æ‰€ä»¥ä»»ä½•å¤æ‚åº¦é«˜äºè¿™ä¸ªçš„æˆ‘ä»¬éƒ½ä¸å†è€ƒè™‘ï¼Œä»£ç å®ç°å¦‚ä¸‹</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">singleNumber</span><span class="params">(self, nums)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type nums: List[int]</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        hash_map = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> item <span class="keyword">in</span> nums:</span><br><span class="line">            <span class="keyword">if</span> hash_map.get(item):</span><br><span class="line">                hash_map[item] = hash_map[item] + <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                hash_map[item] = <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> key, value <span class="keyword">in</span> hash_map.items():</span><br><span class="line">            <span class="keyword">if</span> value == <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">return</span> key</span><br></pre></td></tr></table></figure>
<h3 id="2-éªšå¥—è·¯ï¼ŒXor"><a href="#2-éªšå¥—è·¯ï¼ŒXor" class="headerlink" title="2. éªšå¥—è·¯ï¼ŒXor"></a>2. éªšå¥—è·¯ï¼ŒXor</h3><p>å¼‚æˆ–ï¼ˆxorï¼‰æ˜¯ä¸€ä¸ªæ•°å­¦è¿ç®—ç¬¦ã€‚å®ƒåº”ç”¨äºé€»è¾‘è¿ç®—ã€‚å¼‚æˆ–çš„æ•°å­¦ç¬¦å·ä¸ºâ€œâŠ•â€ï¼Œè®¡ç®—æœºç¬¦å·ä¸ºâ€œxorâ€ã€‚</p>
<p>äºŒè¿›åˆ¶ä¸‹å¼‚æˆ–è¿ç®—æ³•åˆ™ï¼š<br>1 xor 1=0<br>0 xor 0=0<br>1 xor 0=1<br>0 xor 1=1<br>å› æ­¤åè¿›åˆ¶ä¸‹ç›¸åŒæ•°å­—å¼‚æˆ–ç»“æœä¸º0ï¼Œæ•°å­—aä¸0å¼‚æˆ–ç»“æœä»ä¸ºåŸæ¥çš„æ•°å­—aã€‚<br>å¦å¤–æœ‰ï¼š</p>
<p>a âŠ• a = 0<br>a âŠ• b = b âŠ• a<br>a âŠ• b âŠ• c = a âŠ• (b âŠ• c) = (a âŠ• b) âŠ• c;<br>a âŠ• b âŠ• a = b.<br>å› æ­¤æœ¬é¢˜ä¸­å¼‚æˆ–å…¨éƒ¨çš„å…ƒç´ çš„ç»“æœå°±æ˜¯é‚£ä¸ªåªå‡ºç°1æ¬¡çš„å…ƒç´ ã€‚</p>
<p>ä»£ç å®ç°å¦‚ä¸‹</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">singleNumber</span><span class="params">(self, nums)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type nums: List[int]</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        res = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> item <span class="keyword">in</span> nums:</span><br><span class="line">            res ^= item</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>
<h3 id="3-éªšå¥—è·¯-hashset"><a href="#3-éªšå¥—è·¯-hashset" class="headerlink" title="3. éªšå¥—è·¯ hashset"></a>3. éªšå¥—è·¯ hashset</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">singleNumber</span><span class="params">(self, nums)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type nums: List[int]</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span> * sum(set(nums)) - sum(nums)</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/07/23/LC105-%E4%BB%8E%E5%89%8D%E5%BA%8F%E4%B8%8E%E4%B8%AD%E5%BA%8F%E9%81%8D%E5%8E%86%E5%BA%8F%E5%88%97%E6%9E%84%E9%80%A0%E4%BA%8C%E5%8F%89%E6%A0%91/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="haitao">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Haitao's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/23/LC105-%E4%BB%8E%E5%89%8D%E5%BA%8F%E4%B8%8E%E4%B8%AD%E5%BA%8F%E9%81%8D%E5%8E%86%E5%BA%8F%E5%88%97%E6%9E%84%E9%80%A0%E4%BA%8C%E5%8F%89%E6%A0%91/" class="post-title-link" itemprop="url">LC105-ä»å‰åºä¸ä¸­åºéå†åºåˆ—æ„é€ äºŒå‰æ ‘</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-07-23 13:06:26 / Modified: 22:59:49" itemprop="dateCreated datePublished" datetime="2020-07-23T13:06:26+08:00">2020-07-23</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">åˆ·é¢˜ç¬”è®°</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>æ ¹æ®ä¸€æ£µæ ‘çš„å‰åºéå†ä¸ä¸­åºéå†æ„é€ äºŒå‰æ ‘ã€‚</p>
<p>æ³¨æ„:<br>ä½ å¯ä»¥å‡è®¾æ ‘ä¸­æ²¡æœ‰é‡å¤çš„å…ƒç´ ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">ä¾‹å¦‚ï¼Œç»™å‡º</span><br><span class="line">å‰åºéå† preorder &#x3D;Â [3,9,20,15,7]</span><br><span class="line">ä¸­åºéå† inorder &#x3D; [9,3,15,20,7]</span><br><span class="line">è¿”å›å¦‚ä¸‹çš„äºŒå‰æ ‘ï¼š</span><br><span class="line"></span><br><span class="line">    3</span><br><span class="line">   &#x2F; \</span><br><span class="line">  9  20</span><br><span class="line">    &#x2F;  \</span><br><span class="line">   15   7</span><br></pre></td></tr></table></figure><br>æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰<br>é“¾æ¥ï¼š<a href="https://leetcode-cn.com/problems/construct-binary-tree-from-preorder-and-inorder-traversal" target="_blank" rel="noopener">https://leetcode-cn.com/problems/construct-binary-tree-from-preorder-and-inorder-traversal</a><br>è‘—ä½œæƒå½’é¢†æ‰£ç½‘ç»œæ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»å®˜æ–¹æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>
<h1 id="æ€è·¯ä¸ä»£ç "><a href="#æ€è·¯ä¸ä»£ç " class="headerlink" title="æ€è·¯ä¸ä»£ç "></a>æ€è·¯ä¸ä»£ç </h1><p>é¦–å…ˆæ ¹æ®å‰åºéå†å’Œä¸­åºéå†çš„å®šä¹‰æˆ‘ä»¬çŸ¥é“å¦‚ä¸‹ç»“è®ºï¼š</p>
<ul>
<li>å¯¹äºä»»æ„ä¸€é¢—æ ‘è€Œè¨€ï¼Œå‰åºéå†çš„å½¢å¼æ€»æ˜¯<ul>
<li>{æ ¹èŠ‚ç‚¹, [å·¦å­æ ‘çš„å‰åºéå†ç»“æœ], [å³å­æ ‘çš„å‰åºéå†ç»“æœ]}</li>
</ul>
</li>
<li>ä¸­åºéå†çš„å½¢å¼æ€»æ˜¯<ul>
<li>{[å·¦å­æ ‘çš„ä¸­åºéå†ç»“æœ], æ ¹èŠ‚ç‚¹, [å³å­æ ‘çš„ä¸­åºéå†ç»“æœ]}</li>
</ul>
</li>
</ul>
<p>è€Œä¸”æ›´åŠ é‡è¦çš„æ˜¯ï¼Œä»¥ä¸‹çº¢è‰²çš„éƒ¨åˆ†:</p>
<ul>
<li>å‰åºéå†ï¼š{æ ¹èŠ‚ç‚¹, <font color="red">[å·¦å­æ ‘çš„å‰åºéå†ç»“æœ] </font>, [å³å­æ ‘çš„å‰åºéå†ç»“æœ]}</li>
<li>ä¸­åºéå†ï¼š{<font color="red">[å·¦å­æ ‘çš„ä¸­åºéå†ç»“æœ]</font>, æ ¹èŠ‚ç‚¹, [å³å­æ ‘çš„ä¸­åºéå†ç»“æœ]}</li>
</ul>
<p>ä¹Ÿæ˜¯æ»¡è¶³ä¸Šè¿°çš„æ€§è´¨ï¼Œæ‰€ä»¥æ˜¯æ¯ä¸ªé—®é¢˜éƒ½åµŒå¥—äº†ä¸€ä¸ªå°é—®é¢˜<br>ä¾‹å¦‚ä»¥ä¸‹çš„ä¾‹å­ï¼š<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">å‰åºéå† preorder &#x3D;Â [3,9,20,15,7]</span><br><span class="line">ä¸­åºéå† inorder &#x3D; [9,3,15,20,7]</span><br><span class="line">    3</span><br><span class="line">   &#x2F; \</span><br><span class="line">  9  20</span><br><span class="line">    &#x2F;  \</span><br><span class="line">   15   7</span><br></pre></td></tr></table></figure><br>æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼š</p>
<ul>
<li>root:3</li>
<li>å·¦å­æ ‘ç”±ä»¥ä¸‹ä¸¤ä¸ªæ•°ç»„æ„é€ <ul>
<li>preorder = [9]</li>
<li>inorder = [9]</li>
</ul>
</li>
<li>å³å­æ ‘ç”±ä»¥ä¸‹ä¸¤ä¸ªæ•°ç»„æ„é€ <ul>
<li>preorder = [20,15,7]</li>
<li>inorder = [15,20,7]</li>
</ul>
</li>
</ul>
<p>æ˜¾ç„¶å·¦å­æ ‘çš„æ„é€ æ˜¯è¾ƒä¸ºå®¹æ˜“çš„ï¼Œæˆ‘ä»¬ç€é‡æ¥çœ‹å³å­æ ‘çš„æ„é€ <br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">preorder &#x3D; [20,15,7]</span><br><span class="line">inorder &#x3D; [15,20,7]</span><br><span class="line">     20</span><br><span class="line">    &#x2F;  \</span><br><span class="line">   15   7</span><br></pre></td></tr></table></figure><br>æˆ‘ä»¬å¯ä»¥çŸ¥é“ï¼š</p>
<ul>
<li>root:20</li>
<li>å·¦å­æ ‘ç”±ä»¥ä¸‹ä¸¤ä¸ªæ•°ç»„æ„é€ <ul>
<li>preorder = [15]</li>
<li>inorder = [15]</li>
</ul>
</li>
<li>å³å­æ ‘ç”±ä»¥ä¸‹ä¸¤ä¸ªæ•°ç»„æ„é€ <ul>
<li>preorder = [7]</li>
<li>inorder = [7]</li>
</ul>
</li>
</ul>
<p>è¿™ä¸ªçš„æ„é€ è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œé—®é¢˜ç»“æŸã€‚<br>æ•´ä½“ä¸Šæˆ‘ä»¬è‡ªé¡¶å‘ä¸‹ï¼Œé€æ­¥å°†å¤æ‚é—®é¢˜ç®€å•åŒ–ï¼Œä»è€Œè§£å†³äº†æ•´ä¸ªå¤§é—®é¢˜.</p>
<p>æ€»ç»“è¯´ï¼š</p>
<blockquote>
<p>åªè¦æˆ‘ä»¬åœ¨ä¸­åºéå†ä¸­å®šä½åˆ°æ ¹èŠ‚ç‚¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥åˆ†åˆ«çŸ¥é“å·¦å­æ ‘å’Œå³å­æ ‘ä¸­çš„èŠ‚ç‚¹æ•°ç›®ã€‚ç”±äºåŒä¸€é¢—å­æ ‘çš„å‰åºéå†å’Œä¸­åºéå†çš„é•¿åº¦æ˜¾ç„¶æ˜¯ç›¸åŒçš„ï¼Œå› æ­¤æˆ‘ä»¬å°±å¯ä»¥å¯¹åº”åˆ°å‰åºéå†çš„ç»“æœä¸­ï¼Œå¯¹ä¸Šè¿°å½¢å¼ä¸­çš„æ‰€æœ‰å·¦å³æ‹¬å·è¿›è¡Œå®šä½ã€‚</p>
<p>è¿™æ ·ä»¥æ¥ï¼Œæˆ‘ä»¬å°±çŸ¥é“äº†å·¦å­æ ‘çš„å‰åºéå†å’Œä¸­åºéå†ç»“æœï¼Œä»¥åŠå³å­æ ‘çš„å‰åºéå†å’Œä¸­åºéå†ç»“æœï¼Œæˆ‘ä»¬å°±å¯ä»¥é€’å½’åœ°å¯¹æ„é€ å‡ºå·¦å­æ ‘å’Œå³å­æ ‘ï¼Œå†å°†è¿™ä¸¤é¢—å­æ ‘æ¥åˆ°æ ¹èŠ‚ç‚¹çš„å·¦å³ä½ç½®ã€‚</p>
</blockquote>
<p>ä»¥ä¸Šç®—æ³•çš„ä»£ç å®ç°å¦‚ä¸‹<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">buildTree</span><span class="params">(self, preorder, inorder)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type preorder: List[int]</span></span><br><span class="line"><span class="string">        :type inorder: List[int]</span></span><br><span class="line"><span class="string">        :rtype: TreeNode</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">assert</span> preorder.__len__() == inorder.__len__()</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> preorder:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        <span class="keyword">elif</span> preorder.__len__() == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> TreeNode(preorder[<span class="number">0</span>])</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            rootIndex = <span class="number">0</span></span><br><span class="line">            <span class="keyword">while</span> inorder[rootIndex] != preorder[<span class="number">0</span>]: rootIndex += <span class="number">1</span></span><br><span class="line">            root = TreeNode(preorder[<span class="number">0</span>])</span><br><span class="line">            root.left = self.buildTree(preorder[<span class="number">1</span>:rootIndex + <span class="number">1</span>], inorder[<span class="number">0</span>:rootIndex])</span><br><span class="line">            root.right = self.buildTree(preorder[rootIndex + <span class="number">1</span>:], inorder[rootIndex + <span class="number">1</span>:])</span><br><span class="line">            <span class="keyword">return</span> root</span><br></pre></td></tr></table></figure></p>
<p>è¿™ä¸ªä»£ç è™½ç„¶å¯ä»¥é€šè¿‡ä½†æ˜¯æ•ˆç‡æå·®ï¼Œæˆ‘ä»¬å¯¹å…¶å­˜åœ¨çš„ä¸¤ä¸ªé—®é¢˜è¿›è¡Œä¼˜åŒ–</p>
<ul>
<li>rootIndexè¦éå†æŸ¥æ‰¾ï¼Œå¯ä»¥ç”¨hash_map</li>
<li>é€’å½’ä¼ å‚ä¼ æ•°ç»„æ•ˆç‡ä½ä¸‹ï¼Œåªç”¨ä¼ å…¥å¼€å§‹å’Œæˆªè‡³çš„ä½ç½®å°±å¥½</li>
</ul>
<p>ä¼˜åŒ–åï¼Œä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.preorder = <span class="literal">None</span></span><br><span class="line">        self.inorder = <span class="literal">None</span></span><br><span class="line">        self.element2index = &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__recBuild</span><span class="params">(self, preBegin, preEnd, inBegin, inEnd)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :param preBegin: int</span></span><br><span class="line"><span class="string">        :param preEnd: int</span></span><br><span class="line"><span class="string">        :param inBegin: int</span></span><br><span class="line"><span class="string">        :param inEnd: int</span></span><br><span class="line"><span class="string">        :return: TreeNode</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">assert</span> preEnd - preBegin == inEnd - inBegin</span><br><span class="line">        <span class="keyword">if</span> preEnd - preBegin == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        <span class="keyword">elif</span> preEnd - preBegin == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> TreeNode(self.preorder[preBegin])</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            root = TreeNode(self.preorder[preBegin])</span><br><span class="line">            l_tree_len = self.element2index[self.preorder[preBegin]] - inBegin</span><br><span class="line">            r_tree_len = inEnd - (self.element2index[self.preorder[preBegin]] + <span class="number">1</span>)</span><br><span class="line">            root.left = self.__recBuild(preBegin + <span class="number">1</span>, preBegin + <span class="number">1</span> + l_tree_len, inBegin, inBegin + l_tree_len)</span><br><span class="line">            root.right = self.__recBuild(preBegin + <span class="number">1</span> + l_tree_len, preBegin + <span class="number">1</span> + l_tree_len + r_tree_len,</span><br><span class="line">                                         inBegin + l_tree_len + <span class="number">1</span>, inBegin + l_tree_len + <span class="number">1</span> + r_tree_len)</span><br><span class="line">            <span class="keyword">return</span> root</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">buildTree</span><span class="params">(self, preorder, inorder)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type preorder: List[int]</span></span><br><span class="line"><span class="string">        :type inorder: List[int]</span></span><br><span class="line"><span class="string">        :rtype: TreeNode</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        self.preorder = preorder</span><br><span class="line">        self.inorder = inorder</span><br><span class="line">        <span class="keyword">for</span> index, element <span class="keyword">in</span> enumerate(self.inorder):</span><br><span class="line">            self.element2index[element] = index</span><br><span class="line">        <span class="keyword">return</span> self.__recBuild(<span class="number">0</span>, preorder.__len__(), <span class="number">0</span>, inorder.__len__())</span><br></pre></td></tr></table></figure></p>
<p>é€Ÿåº¦æå‡äº†å°†è¿‘6å€ï¼Œniceï¼ï¼ï¼</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/07/23/LC114-%E4%BA%8C%E5%8F%89%E6%A0%91%E5%B1%95%E5%BC%80%E4%B8%BA%E9%93%BE%E8%A1%A8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="haitao">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Haitao's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/23/LC114-%E4%BA%8C%E5%8F%89%E6%A0%91%E5%B1%95%E5%BC%80%E4%B8%BA%E9%93%BE%E8%A1%A8/" class="post-title-link" itemprop="url">LC114-äºŒå‰æ ‘å±•å¼€ä¸ºé“¾è¡¨</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-07-23 00:42:47 / Modified: 01:06:36" itemprop="dateCreated datePublished" datetime="2020-07-23T00:42:47+08:00">2020-07-23</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">åˆ·é¢˜ç¬”è®°</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>ç»™å®šä¸€ä¸ªäºŒå‰æ ‘ï¼ŒåŸåœ°å°†å®ƒå±•å¼€ä¸ºä¸€ä¸ªå•é“¾è¡¨ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">ä¾‹å¦‚ï¼Œç»™å®šäºŒå‰æ ‘</span><br><span class="line"></span><br><span class="line">    1</span><br><span class="line">   &#x2F; \</span><br><span class="line">  2   5</span><br><span class="line"> &#x2F; \   \</span><br><span class="line">3   4   6</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">å°†å…¶å±•å¼€ä¸ºï¼š</span><br><span class="line">1</span><br><span class="line"> \</span><br><span class="line">  2</span><br><span class="line">   \</span><br><span class="line">    3</span><br><span class="line">     \</span><br><span class="line">      4</span><br><span class="line">       \</span><br><span class="line">        5</span><br><span class="line">         \</span><br><span class="line">          6</span><br></pre></td></tr></table></figure>
<p>æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰<br>é“¾æ¥ï¼š<a href="https://leetcode-cn.com/problems/flatten-binary-tree-to-linked-list" target="_blank" rel="noopener">https://leetcode-cn.com/problems/flatten-binary-tree-to-linked-list</a><br>è‘—ä½œæƒå½’é¢†æ‰£ç½‘ç»œæ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»å®˜æ–¹æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>
<h1 id="æ€è·¯ä¸ä»£ç "><a href="#æ€è·¯ä¸ä»£ç " class="headerlink" title="æ€è·¯ä¸ä»£ç "></a>æ€è·¯ä¸ä»£ç </h1><p>è¿™ä¸ªé¢˜ç›®é‡‡å–ååºéå†çš„æ–¹æ³•ï¼Œç®—æ³•çš„å›¾åƒè¡¨ç¤ºå¦‚ä¸‹<br><img src="/2020/07/23/LC114-%E4%BA%8C%E5%8F%89%E6%A0%91%E5%B1%95%E5%BC%80%E4%B8%BA%E9%93%BE%E8%A1%A8/msedge_BacoUk3KLt.png" alt="alt"></p>
<p>è“è‰²å’Œçº¢è‰²éƒ¨åˆ†çš„æ•´ç†ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨é€’å½’æ¥å®ç°ï¼Œ<br>å‘ç°é—®é¢˜ä¸ºæœ€ç®€ä¸‰ä¸ªé¡¶ç‚¹ï¼Œä¹Ÿç¬¦åˆã€‚<br>ä»£ç å®ç°å¦‚ä¸‹ï¼š<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">flatten</span><span class="params">(self, root)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type root: TreeNode</span></span><br><span class="line"><span class="string">        :rtype: None Do not return anything, modify root in-place instead.</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root: <span class="keyword">return</span></span><br><span class="line">        <span class="comment"># BLUE</span></span><br><span class="line">        self.flatten(root.left)</span><br><span class="line">        <span class="comment"># RED</span></span><br><span class="line">        self.flatten(root.right)</span><br><span class="line">        <span class="comment"># JOIN</span></span><br><span class="line">        temp = root.right</span><br><span class="line">        root.right = root.left</span><br><span class="line">        root.left = <span class="literal">None</span></span><br><span class="line">        <span class="keyword">while</span> root.right: root = root.right</span><br><span class="line">        root.right = temp</span><br></pre></td></tr></table></figure></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/07/22/LC297-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E5%BA%8F%E5%88%97%E5%8C%96%E4%B8%8E%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="haitao">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Haitao's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/22/LC297-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E5%BA%8F%E5%88%97%E5%8C%96%E4%B8%8E%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/" class="post-title-link" itemprop="url">LC297-äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-07-22 23:51:16" itemprop="dateCreated datePublished" datetime="2020-07-22T23:51:16+08:00">2020-07-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-07-25 00:02:00" itemprop="dateModified" datetime="2020-07-25T00:02:00+08:00">2020-07-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">åˆ·é¢˜ç¬”è®°</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>åºåˆ—åŒ–æ˜¯å°†ä¸€ä¸ªæ•°æ®ç»“æ„æˆ–è€…å¯¹è±¡è½¬æ¢ä¸ºè¿ç»­çš„æ¯”ç‰¹ä½çš„æ“ä½œï¼Œè¿›è€Œå¯ä»¥å°†è½¬æ¢åçš„æ•°æ®å­˜å‚¨åœ¨ä¸€ä¸ªæ–‡ä»¶æˆ–è€…å†…å­˜ä¸­ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥é€šè¿‡ç½‘ç»œä¼ è¾“åˆ°å¦ä¸€ä¸ªè®¡ç®—æœºç¯å¢ƒï¼Œé‡‡å–ç›¸åæ–¹å¼é‡æ„å¾—åˆ°åŸæ•°æ®ã€‚</p>
<p>è¯·è®¾è®¡ä¸€ä¸ªç®—æ³•æ¥å®ç°äºŒå‰æ ‘çš„åºåˆ—åŒ–ä¸ååºåˆ—åŒ–ã€‚è¿™é‡Œä¸é™å®šä½ çš„åºåˆ— / ååºåˆ—åŒ–ç®—æ³•æ‰§è¡Œé€»è¾‘ï¼Œä½ åªéœ€è¦ä¿è¯ä¸€ä¸ªäºŒå‰æ ‘å¯ä»¥è¢«åºåˆ—åŒ–ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²å¹¶ä¸”å°†è¿™ä¸ªå­—ç¬¦ä¸²ååºåˆ—åŒ–ä¸ºåŸå§‹çš„æ ‘ç»“æ„ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ç¤ºä¾‹:Â </span><br><span class="line">ä½ å¯ä»¥å°†ä»¥ä¸‹äºŒå‰æ ‘ï¼š</span><br><span class="line"></span><br><span class="line">    1</span><br><span class="line">   &#x2F; \</span><br><span class="line">  2   3</span><br><span class="line">     &#x2F; \</span><br><span class="line">    4   5</span><br><span class="line">åºåˆ—åŒ–ä¸º &quot;[1,2,3,null,null,4,5]&quot;</span><br></pre></td></tr></table></figure></p>
<p>æç¤º: è¿™ä¸ LeetCode ç›®å‰ä½¿ç”¨çš„æ–¹å¼ä¸€è‡´ï¼Œè¯¦æƒ…è¯·å‚é˜… LeetCode åºåˆ—åŒ–äºŒå‰æ ‘çš„æ ¼å¼ã€‚<br>    ä½ å¹¶éå¿…é¡»é‡‡å–è¿™ç§æ–¹å¼ï¼Œä½ ä¹Ÿå¯ä»¥é‡‡ç”¨å…¶ä»–çš„æ–¹æ³•è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<p>è¯´æ˜: ä¸è¦ä½¿ç”¨ç±»çš„æˆå‘˜ / å…¨å±€ / é™æ€å˜é‡æ¥å­˜å‚¨çŠ¶æ€ï¼Œä½ çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–ç®—æ³•åº”è¯¥æ˜¯æ— çŠ¶æ€çš„ã€‚</p>
<p>æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰<br>é“¾æ¥ï¼š<a href="https://leetcode-cn.com/problems/serialize-and-deserialize-binary-tree" target="_blank" rel="noopener">https://leetcode-cn.com/problems/serialize-and-deserialize-binary-tree</a><br>è‘—ä½œæƒå½’é¢†æ‰£ç½‘ç»œæ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»å®˜æ–¹æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>
<h1 id="æ€è€ƒä¸ä»£ç "><a href="#æ€è€ƒä¸ä»£ç " class="headerlink" title="æ€è€ƒä¸ä»£ç "></a>æ€è€ƒä¸ä»£ç </h1><h3 id="1-æŠ–æœºçµ"><a href="#1-æŠ–æœºçµ" class="headerlink" title="1. æŠ–æœºçµ"></a>1. æŠ–æœºçµ</h3><p>è¿™æ³¢å•Šï¼Œè¿™æ³¢æ˜¯è‡ªé—®è‡ªç­”:-)<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Codec</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.root = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">serialize</span><span class="params">(self, root)</span>:</span></span><br><span class="line">        <span class="string">"""Encodes a tree to a single string.</span></span><br><span class="line"><span class="string">        </span></span><br><span class="line"><span class="string">        :type root: TreeNode</span></span><br><span class="line"><span class="string">        :rtype: str</span></span><br><span class="line"><span class="string">        """</span>    </span><br><span class="line">        self.root = root</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">deserialize</span><span class="params">(self, data)</span>:</span></span><br><span class="line">        <span class="string">"""Decodes your encoded data to tree.</span></span><br><span class="line"><span class="string">        </span></span><br><span class="line"><span class="string">        :type data: str</span></span><br><span class="line"><span class="string">        :rtype: TreeNode</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        <span class="keyword">return</span> self.root</span><br></pre></td></tr></table></figure></p>
<h3 id="2-æ·±åº¦ä¼˜å…ˆç®—æ³•"><a href="#2-æ·±åº¦ä¼˜å…ˆç®—æ³•" class="headerlink" title="2. æ·±åº¦ä¼˜å…ˆç®—æ³•"></a>2. æ·±åº¦ä¼˜å…ˆç®—æ³•</h3><p>æˆ‘ä»¬ç¼–ç çš„æ—¶å€™å’Œåç¼–ç çš„æ—¶å€™åŒæ—¶é‡‡ç”¨å‰å‘éå†ã€‚<br>ç¬¬ä¸€æ­¥å’‹ä»¬å…ˆè®©ä¸¤ä¸ªå‡½æ•°ä¹‹é—´ä¼ é€’Listå®Œæˆåæˆ‘å†åšä¿®æ”¹ï¼Œæ”¹æˆstrâ€¦<br>å¥½çš„ï¼Œä¸‹é¢æ˜¯å…·ä½“çš„ä»£ç å®ç°ï¼š</p>
<p>è½¬é€’List<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Codec</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">serialize</span><span class="params">(self, root)</span>:</span></span><br><span class="line">        <span class="string">"""Encodes a tree to a single string.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        :type root: TreeNode</span></span><br><span class="line"><span class="string">        :rtype: List[]</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">rec_serialize</span><span class="params">(current_node, current_list)</span>:</span></span><br><span class="line">            <span class="string">"""</span></span><br><span class="line"><span class="string">            :param current_node: TreeNode</span></span><br><span class="line"><span class="string">            :param current_list: List[]</span></span><br><span class="line"><span class="string">            :return: None</span></span><br><span class="line"><span class="string">            """</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> current_node:</span><br><span class="line">                current_list.append(<span class="string">"null"</span>)</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                current_list.append(current_node.val)</span><br><span class="line">                rec_serialize(current_node.left, current_list)</span><br><span class="line">                rec_serialize(current_node.right, current_list)</span><br><span class="line"></span><br><span class="line">        res = []</span><br><span class="line">        rec_serialize(root, res)</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">deserialize</span><span class="params">(self, data)</span>:</span></span><br><span class="line">        <span class="string">"""Decodes your encoded data to tree.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">        :type data: List[]</span></span><br><span class="line"><span class="string">        :rtype: TreeNode</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">rec_deserialize</span><span class="params">(current_list)</span>:</span></span><br><span class="line">            <span class="string">"""</span></span><br><span class="line"><span class="string">            :param current_list:List[]</span></span><br><span class="line"><span class="string">            :return:TreeNode</span></span><br><span class="line"><span class="string">            """</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> current_list:</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            <span class="keyword">elif</span> current_list[<span class="number">0</span>] == <span class="string">"null"</span>:</span><br><span class="line">                current_list.pop(<span class="number">0</span>)</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                new_node = TreeNode(current_list[<span class="number">0</span>])</span><br><span class="line">                current_list.pop(<span class="number">0</span>)</span><br><span class="line">                new_node.left = rec_deserialize(current_list)</span><br><span class="line">                new_node.right = rec_deserialize(current_list)</span><br><span class="line">                <span class="keyword">return</span> new_node</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> rec_deserialize(data)</span><br></pre></td></tr></table></figure></p>
<p>æŒ‰ç…§é¢˜ç›®è¦æ±‚ï¼Œä¼ é€’strä¸ä¹‹ç±»ä¼¼ä»¬å°±æ˜¯è¦joinä¸€ä¸‹ï¼Œæ²¡æœ‰å•¥å¤ªå¤§çš„å·®å¼‚~<br>ï¼šâ€œè¿˜ä¸æ˜¯å› ä¸ºä½ æ‡’ï¼Ÿâ€<br>ï¼šâ€œä½ èƒ½ä¸èƒ½é—­å˜´å•Šå•Šå•Šå•Šå•Šï¼Ÿï¼Ÿï¼Ÿâ€</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/07/22/LC124-%E4%BA%8C%E5%8F%89%E6%A0%91%E4%B8%AD%E7%9A%84%E6%9C%80%E5%A4%A7%E8%B7%AF%E5%BE%84%E5%92%8C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="haitao">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Haitao's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/22/LC124-%E4%BA%8C%E5%8F%89%E6%A0%91%E4%B8%AD%E7%9A%84%E6%9C%80%E5%A4%A7%E8%B7%AF%E5%BE%84%E5%92%8C/" class="post-title-link" itemprop="url">LC124-äºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œ</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>
              

              <time title="Created: 2020-07-22 22:05:02 / Modified: 23:47:03" itemprop="dateCreated datePublished" datetime="2020-07-22T22:05:02+08:00">2020-07-22</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">åˆ·é¢˜ç¬”è®°</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>ç»™å®šä¸€ä¸ªéç©ºäºŒå‰æ ‘ï¼Œè¿”å›å…¶æœ€å¤§è·¯å¾„å’Œã€‚</p>
<p>æœ¬é¢˜ä¸­ï¼Œè·¯å¾„è¢«å®šä¹‰ä¸ºä¸€æ¡ä»æ ‘ä¸­ä»»æ„èŠ‚ç‚¹å‡ºå‘ï¼Œè¾¾åˆ°ä»»æ„èŠ‚ç‚¹çš„åºåˆ—ã€‚è¯¥è·¯å¾„è‡³å°‘åŒ…å«ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¸”ä¸ä¸€å®šç»è¿‡æ ¹èŠ‚ç‚¹ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">ç¤ºä¾‹ 1:</span><br><span class="line">è¾“å…¥: [1,2,3]</span><br><span class="line"></span><br><span class="line">       1</span><br><span class="line">      &#x2F; \</span><br><span class="line">     2   3</span><br><span class="line"></span><br><span class="line">è¾“å‡º: 6</span><br><span class="line">ç¤ºä¾‹Â 2:</span><br><span class="line"></span><br><span class="line">è¾“å…¥: [-10,9,20,null,null,15,7]</span><br><span class="line"></span><br><span class="line">Â   -10</span><br><span class="line">Â  Â &#x2F; \</span><br><span class="line">Â  9 Â 20</span><br><span class="line">Â  Â  &#x2F; Â \</span><br><span class="line">Â  Â 15 Â  7</span><br><span class="line"></span><br><span class="line">è¾“å‡º: 42</span><br></pre></td></tr></table></figure></p>
<p>æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰<br>é“¾æ¥ï¼š<a href="https://leetcode-cn.com/problems/binary-tree-maximum-path-sum" target="_blank" rel="noopener">https://leetcode-cn.com/problems/binary-tree-maximum-path-sum</a><br>è‘—ä½œæƒå½’é¢†æ‰£ç½‘ç»œæ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»å®˜æ–¹æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>
<h1 id="æ€è·¯ä¸ä»£ç "><a href="#æ€è·¯ä¸ä»£ç " class="headerlink" title="æ€è·¯ä¸ä»£ç "></a>æ€è·¯ä¸ä»£ç </h1><p>è¿™ä¸ªé¢˜ç›®æˆ‘ä»¬è‡ªå·±æƒ³ä¸ªç®—æ³•ï¼Œé¦–å…ˆæˆ‘ä»¬å®šä¹‰ä¸€ä¸ªå‡½æ•°</p>
<script type="math/tex; mode=display">
maxGain(root):=è¯¥èŠ‚ç‚¹ä¸ºæ ¹èŠ‚ç‚¹çš„å­æ ‘ä¸­å¯»æ‰¾ä»¥è¯¥èŠ‚ç‚¹ä¸ºèµ·ç‚¹çš„ä¸€æ¡è·¯å¾„ï¼Œä½¿å¾—è¯¥è·¯å¾„ä¸Šçš„èŠ‚ç‚¹å€¼ä¹‹å’Œæœ€å¤§</script><blockquote>
<p>å…·ä½“è€Œè¨€ï¼Œè¯¥å‡½æ•°çš„è®¡ç®—å¦‚ä¸‹ã€‚<br>ç©ºèŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼ç­‰äº 0ã€‚<br>éç©ºèŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼ç­‰äºèŠ‚ç‚¹å€¼ä¸å…¶å­èŠ‚ç‚¹ä¸­çš„æœ€å¤§è´¡çŒ®å€¼ä¹‹å’Œï¼ˆå¯¹äºå¶èŠ‚ç‚¹è€Œè¨€ï¼Œæœ€å¤§è´¡çŒ®å€¼ç­‰äºèŠ‚ç‚¹å€¼ï¼‰ã€‚<br>ä¾‹å¦‚ï¼Œè€ƒè™‘å¦‚ä¸‹äºŒå‰æ ‘ã€‚<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> -10</span><br><span class="line"> &#x2F; \</span><br><span class="line">9  20</span><br><span class="line">  &#x2F;  \</span><br><span class="line"> 15   7</span><br></pre></td></tr></table></figure><br>å¶èŠ‚ç‚¹ 9ã€15ã€7 çš„æœ€å¤§è´¡çŒ®å€¼åˆ†åˆ«ä¸º 9ã€15ã€7ã€‚<br>å¾—åˆ°å¶èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼ä¹‹åï¼Œå†è®¡ç®—éå¶èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼ã€‚èŠ‚ç‚¹ 20 çš„æœ€å¤§è´¡çŒ®å€¼ç­‰äº $20+\max(15,7)=35$ï¼ŒèŠ‚ç‚¹ -10 çš„æœ€å¤§è´¡çŒ®å€¼ç­‰äº $-10+\max(9,35)=25$</p>
</blockquote>
<p>ä¸Šè¿°è®¡ç®—è¿‡ç¨‹æ˜¯é€’å½’çš„è¿‡ç¨‹ï¼Œå› æ­¤ï¼Œå¯¹æ ¹èŠ‚ç‚¹è°ƒç”¨å‡½æ•° maxGainï¼Œå³å¯å¾—åˆ°æ¯ä¸ªèŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼ã€‚<br>é¦–å…ˆå®ç°maxGain(root)å‡½æ•°ï¼Œå…·ä½“çš„ä»£ç å¦‚ä¸‹ï¼š<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">__get_max_gain</span><span class="params">(self, root)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> root: <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    lson_maxGain = self.maxGain.get(root.left) <span class="keyword">if</span> self.maxGain.get(root.left) <span class="keyword">else</span> self.__get_max_gain(root.left)</span><br><span class="line">    rson_maxGain = self.maxGain.get(root.right) <span class="keyword">if</span> self.maxGain.get(root.right) <span class="keyword">else</span> self.__get_max_gain(root.right)</span><br><span class="line">    root_maxGain = root.val + max(lson_maxGain, rson_maxGain)</span><br><span class="line">    self.maxGain[root] = root_maxGain</span><br><span class="line">    <span class="keyword">return</span> root_maxGain</span><br></pre></td></tr></table></figure><br>æ ¹æ®å‡½æ•° $maxGain$ å¾—åˆ°æ¯ä¸ªèŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼ä¹‹åï¼Œå¦‚ä½•å¾—åˆ°äºŒå‰æ ‘çš„æœ€å¤§è·¯å¾„å’Œï¼Ÿå¯¹äºäºŒå‰æ ‘ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹ï¼Œè¯¥èŠ‚ç‚¹çš„æœ€å¤§è·¯å¾„å’Œå–å†³äºè¯¥èŠ‚ç‚¹çš„å€¼ä¸è¯¥èŠ‚ç‚¹çš„å·¦å³å­èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼ï¼Œå¦‚æœå­èŠ‚ç‚¹çš„æœ€å¤§è´¡çŒ®å€¼ä¸ºæ­£ï¼Œåˆ™è®¡å…¥è¯¥èŠ‚ç‚¹çš„æœ€å¤§è·¯å¾„å’Œï¼Œå¦åˆ™ä¸è®¡å…¥è¯¥èŠ‚ç‚¹çš„æœ€å¤§è·¯å¾„å’Œã€‚ç»´æŠ¤ä¸€ä¸ªå…¨å±€å˜é‡ maxSum å­˜å‚¨æœ€å¤§è·¯å¾„å’Œï¼Œåœ¨é€’å½’è¿‡ç¨‹ä¸­æ›´æ–° maxSum çš„å€¼ï¼Œæœ€åå¾—åˆ°çš„ maxSum çš„å€¼å³ä¸ºäºŒå‰æ ‘ä¸­çš„æœ€å¤§è·¯å¾„å’Œã€‚</p>
<p>å…·ä½“çš„ä»£ç å®ç°å¦‚ä¸‹<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.maxSum = <span class="literal">None</span></span><br><span class="line">        self.maxGain = &#123;<span class="literal">None</span>: <span class="number">0</span>&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__get_max_gain</span><span class="params">(self, root)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root: <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        lson_maxGain = self.maxGain.get(root.left) <span class="keyword">if</span> self.maxGain.get(root.left) \</span><br><span class="line">            <span class="keyword">else</span> max(self.__get_max_gain(root.left), <span class="number">0</span>)</span><br><span class="line">        rson_maxGain = self.maxGain.get(root.right) <span class="keyword">if</span> self.maxGain.get(root.right) \</span><br><span class="line">            <span class="keyword">else</span> max(self.__get_max_gain(root.right), <span class="number">0</span>)</span><br><span class="line">        root_maxGain = root.val + max(lson_maxGain, rson_maxGain)</span><br><span class="line">        self.maxGain[root] = root_maxGain</span><br><span class="line">        <span class="keyword">return</span> root_maxGain</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__inOrderTraversal</span><span class="params">(self, root)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> root:</span><br><span class="line">            curr_path_sum = root.val + max(<span class="number">0</span>, self.maxGain[root.left]) + max(<span class="number">0</span>, self.maxGain[root.right])</span><br><span class="line">            self.maxSum = curr_path_sum <span class="keyword">if</span> <span class="keyword">not</span> self.maxSum <span class="keyword">else</span> max(self.maxSum, curr_path_sum)</span><br><span class="line">            self.__inOrderTraversal(root.left)</span><br><span class="line">            self.__inOrderTraversal(root.right)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxPathSum</span><span class="params">(self, root)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type root: TreeNode</span></span><br><span class="line"><span class="string">        :rtype: int</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        self.__get_max_gain(root)</span><br><span class="line">        self.__inOrderTraversal(root)</span><br><span class="line">        <span class="keyword">return</span> self.maxSum</span><br></pre></td></tr></table></figure></p>
<p>æ•ˆç‡ä¸é«˜ï¼Œä½†æ˜¯é€»è¾‘æ¸…æ™°å•Š~<br>æ—¶é—´å¤æ‚åº¦ä¸º$O(n)$<br>ç©ºé—´å¤æ‚åº¦ä¸º$O(n)$</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="en">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/07/21/LC236-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E6%9C%80%E8%BF%91%E5%85%AC%E5%85%B1%E7%A5%96%E5%85%88/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="haitao">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Haitao's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/07/21/LC236-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E6%9C%80%E8%BF%91%E5%85%AC%E5%85%B1%E7%A5%96%E5%85%88/" class="post-title-link" itemprop="url">LC236-äºŒå‰æ ‘çš„æœ€è¿‘å…¬å…±ç¥–å…ˆ</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-07-21 22:15:15" itemprop="dateCreated datePublished" datetime="2020-07-21T22:15:15+08:00">2020-07-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-08-02 12:47:33" itemprop="dateModified" datetime="2020-08-02T12:47:33+08:00">2020-08-02</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%88%B7%E9%A2%98%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">åˆ·é¢˜ç¬”è®°</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="é¢˜ç›®"><a href="#é¢˜ç›®" class="headerlink" title="é¢˜ç›®"></a>é¢˜ç›®</h1><p>ç»™å®šä¸€ä¸ªäºŒå‰æ ‘, æ‰¾åˆ°è¯¥æ ‘ä¸­ä¸¤ä¸ªæŒ‡å®šèŠ‚ç‚¹çš„æœ€è¿‘å…¬å…±ç¥–å…ˆã€‚</p>
<p>ç™¾åº¦ç™¾ç§‘ä¸­æœ€è¿‘å…¬å…±ç¥–å…ˆçš„å®šä¹‰ä¸ºï¼šâ€œå¯¹äºæœ‰æ ¹æ ‘ T çš„ä¸¤ä¸ªç»“ç‚¹ pã€qï¼Œæœ€è¿‘å…¬å…±ç¥–å…ˆè¡¨ç¤ºä¸ºä¸€ä¸ªç»“ç‚¹ xï¼Œæ»¡è¶³ x æ˜¯ pã€q çš„ç¥–å…ˆä¸” x çš„æ·±åº¦å°½å¯èƒ½å¤§ï¼ˆä¸€ä¸ªèŠ‚ç‚¹ä¹Ÿå¯ä»¥æ˜¯å®ƒè‡ªå·±çš„ç¥–å…ˆï¼‰ã€‚â€</p>
<p>ä¾‹å¦‚ï¼Œç»™å®šå¦‚ä¸‹äºŒå‰æ ‘:  $root = [3,5,1,6,2,0,8,null,null,7,4]$</p>
<p><img src="/2020/07/21/LC236-%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E6%9C%80%E8%BF%91%E5%85%AC%E5%85%B1%E7%A5%96%E5%85%88/msedge_MrAP4rh4gA.png" alt="alt"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">ç¤ºä¾‹ 1:</span><br><span class="line">è¾“å…¥: root &#x3D; [3,5,1,6,2,0,8,null,null,7,4], p &#x3D; 5, q &#x3D; 1</span><br><span class="line">è¾“å‡º: 3</span><br><span class="line">è§£é‡Š: èŠ‚ç‚¹ 5 å’ŒèŠ‚ç‚¹ 1 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯èŠ‚ç‚¹ 3ã€‚</span><br><span class="line"></span><br><span class="line">ç¤ºä¾‹Â 2:</span><br><span class="line">è¾“å…¥: root &#x3D; [3,5,1,6,2,0,8,null,null,7,4], p &#x3D; 5, q &#x3D; 4</span><br><span class="line">è¾“å‡º: 5</span><br><span class="line">è§£é‡Š: èŠ‚ç‚¹ 5 å’ŒèŠ‚ç‚¹ 4 çš„æœ€è¿‘å…¬å…±ç¥–å…ˆæ˜¯èŠ‚ç‚¹ 5ã€‚å› ä¸ºæ ¹æ®å®šä¹‰æœ€è¿‘å…¬å…±ç¥–å…ˆèŠ‚ç‚¹å¯ä»¥ä¸ºèŠ‚ç‚¹æœ¬èº«ã€‚</span><br></pre></td></tr></table></figure>
<p>è¯´æ˜:</p>
<ul>
<li>æ‰€æœ‰èŠ‚ç‚¹çš„å€¼éƒ½æ˜¯å”¯ä¸€çš„ã€‚</li>
<li>pã€q ä¸ºä¸åŒèŠ‚ç‚¹ä¸”å‡å­˜åœ¨äºç»™å®šçš„äºŒå‰æ ‘ä¸­ã€‚</li>
</ul>
<p>æ¥æºï¼šåŠ›æ‰£ï¼ˆLeetCodeï¼‰<br>é“¾æ¥ï¼š<a href="https://leetcode-cn.com/problems/lowest-common-ancestor-of-a-binary-tree" target="_blank" rel="noopener">https://leetcode-cn.com/problems/lowest-common-ancestor-of-a-binary-tree</a><br>è‘—ä½œæƒå½’é¢†æ‰£ç½‘ç»œæ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»å®˜æ–¹æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚</p>
<h1 id="ä»£ç ä¸æ€è€ƒ"><a href="#ä»£ç ä¸æ€è€ƒ" class="headerlink" title="ä»£ç ä¸æ€è€ƒ"></a>ä»£ç ä¸æ€è€ƒ</h1><p>è¯•æƒ³ä¸€ç§æƒ…å†µï¼š</p>
<script type="math/tex; mode=display">
å¦‚æœæˆ‘ä»¬çŸ¥é“ä¸€ä¸ªèŠ‚ç‚¹åå°±å¯ä»¥çŸ¥é“å…¶çˆ¶èŠ‚ç‚¹</script><p>é‚£ä¹ˆè¿™ä¸ªé¢˜ç›®å°±ç›¸å½“çš„ç®€å•äº†ï¼Œåªè¦æˆ‘ä»¬æ‰¾åˆ°å…¶æœ€è¿‘çš„å…¬å…±çˆ¶äº²èŠ‚ç‚¹å°±å¥½ã€‚<br>é‚£ä¹ˆæˆ‘ä»¬åŠ å…¥ä¸¤ä¸ªè¾…åŠ©çš„æ•°æ®ç»“æ„ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># hash map</span></span><br><span class="line"><span class="number">2</span>father = &#123;</span><br><span class="line">    node.val:node<span class="string">'s father</span></span><br><span class="line"><span class="string">            .</span></span><br><span class="line"><span class="string">            .</span></span><br><span class="line"><span class="string">            .</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"># hasp set</span></span><br><span class="line"><span class="string">p_path = (p -&gt; root çš„æ‰€æœ‰èŠ‚ç‚¹)</span></span><br></pre></td></tr></table></figure>
<p>å¥½çš„ï¼Œè®¾è®¡å¥½äº†ï¼Œå¦‚ä¸Šçš„æ•°æ®ç»“æ„ï¼Œæˆ‘ä»¬ç¼–ç¨‹å®ç°ï¼š<br><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span><span class="params">(object)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self.toFatherNode = &#123;&#125;</span><br><span class="line">        self.toSelfNode = &#123;&#125;</span><br><span class="line">        self.p_path = set()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__dfs</span><span class="params">(self, curr_node)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> curr_node: <span class="keyword">return</span></span><br><span class="line">        self.toSelfNode[curr_node.val] = curr_node</span><br><span class="line">        <span class="keyword">if</span> curr_node.left:</span><br><span class="line">            self.toFatherNode[curr_node.left.val] = curr_node</span><br><span class="line">            self.__dfs(curr_node.left)</span><br><span class="line">        <span class="keyword">if</span> curr_node.right:</span><br><span class="line">            self.toFatherNode[curr_node.right.val] = curr_node</span><br><span class="line">            self.__dfs(curr_node.right)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">lowestCommonAncestor</span><span class="params">(self, root, p, q)</span>:</span></span><br><span class="line">        <span class="string">"""</span></span><br><span class="line"><span class="string">        :type root: TreeNode</span></span><br><span class="line"><span class="string">        :type p: TreeNode</span></span><br><span class="line"><span class="string">        :type q: TreeNode</span></span><br><span class="line"><span class="string">        :rtype: TreeNode</span></span><br><span class="line"><span class="string">        """</span></span><br><span class="line">        self.toFatherNode[root.val] = <span class="literal">None</span></span><br><span class="line">        self.__dfs(root)</span><br><span class="line">        <span class="keyword">if</span> p.val <span class="keyword">not</span> <span class="keyword">in</span> self.toFatherNode <span class="keyword">or</span> q.val <span class="keyword">not</span> <span class="keyword">in</span> self.toFatherNode: <span class="keyword">return</span></span><br><span class="line">        p_node = self.toSelfNode.get(p.val)</span><br><span class="line">        q_node = self.toSelfNode.get(q.val)</span><br><span class="line">        <span class="keyword">while</span> p_node:</span><br><span class="line">            self.p_path.add(p_node.val)</span><br><span class="line">            p_node = self.toFatherNode[p_node.val]</span><br><span class="line">        <span class="keyword">while</span> q_node:</span><br><span class="line">            <span class="keyword">if</span> self.p_path.__contains__(q_node.val): <span class="keyword">return</span> q_node</span><br><span class="line">            q_node = self.toFatherNode[q_node.val]</span><br></pre></td></tr></table></figure></p>
<p>å¯ç®—è¿‡äº†ï¼Œè¿‡äº†ä¸€å¤©æ‰è§£å†³é—®é¢˜ï¼Œä¸€å®šè¦çœ‹å‡ºå…¥å’Œä¼ å‡ºçš„å‚æ•°çš„ç±»å‹ï¼ï¼ï¼</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left" aria-label="Previous page"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">haitao</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">89</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">33</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/" title="GitHub â†’ https:&#x2F;&#x2F;github.com&#x2F;" rel="noopener" target="_blank"><i class="fab fa-github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:yueht17@foxmail.com" title="E-Mail â†’ mailto:yueht17@foxmail.com" rel="noopener" target="_blank"><i class="fa fa-envelope fa-fw"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">haitao</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://mist.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Mist</a>
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  


<script type="text/javascript" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>

</body>
</html>
